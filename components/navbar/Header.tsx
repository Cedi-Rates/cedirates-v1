"use client";
import React, { useEffect, useRef, useState } from "react";
import Link from "next/link";
import { navigation } from "@/utils/links";
import { Button } from "../ui/button";
import { ProgressBarLink } from "@/app/progress-bar";
import { Alert } from "../ui/alert";
import NavRates from "./navRates";
import { CommandMenu } from "../command-menu";
import { Popover, PopoverTrigger } from "../ui/popover";
import { Avatar } from "../ui/avatar";
import AvatarDropdown from "../reusable/AvatarDropdown";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "../ui/dropdown-menu";
import { UserDetailsType } from "@/utils/types";

const CEDIRATES_USER = "cedirates_user";
const Header = ({ user }: any) => {
  const [menu, setMenu] = useState(false);
  const [currentPath, setCurrentPath] = useState("");
  const [storedUser, setStoredUser] = useState<UserDetailsType>(
    JSON.parse(sessionStorage.getItem(CEDIRATES_USER) as string)
    // {} as UserDetailsType
  );

  useEffect(() => {
    if (typeof window !== "undefined") {
      const savedUser = sessionStorage.getItem(CEDIRATES_USER);

      if (savedUser) {
        setStoredUser(JSON.parse(savedUser));
      }

      if (user?.email) {
        sessionStorage.setItem(CEDIRATES_USER, JSON.stringify(user));
      }
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [user]);

  useEffect(() => {
    if (typeof window !== "undefined") {
      const { pathname } = window.location;
      setCurrentPath(pathname);
    }
  }, []);

  console.log(storedUser);

  return (
    <>
      {/* <Alert className="" variant={"main"}>
        This is a banner to display information to the general public.
      </Alert> */}

      <nav className="border-b border-[#f2f2f2] z-40 bg-white">
        <div className="max-w-[1450px] flex flex-wrap lg:flex-nowrap items-center justify-between mx-auto py-spacing-6 px-spacing-16 lg:px-spacing-96 lg:py-spacing-8">
          <div className="flex items-center lg:gap-spacing-16">
            <Button
              variant={"link"}
              size={"icon"}
              className="block lg:hidden text-icon-icon-primary"
              onClick={() => setMenu(!menu)}
            >
              {menu ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  className="lucide lucide-x"
                >
                  <path d="M18 6 6 18" />
                  <path d="m6 6 12 12" />
                </svg>
              ) : (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  strokeWidth="2"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  className="lucide lucide-menu"
                >
                  <line x1="4" x2="20" y1="12" y2="12" />
                  <line x1="4" x2="20" y1="6" y2="6" />
                  <line x1="4" x2="20" y1="18" y2="18" />
                </svg>
              )}
            </Button>
            <ProgressBarLink href="/">
              <Link href="/">
                <svg
                  className="hidden md:block"
                  width="130"
                  height="28"
                  viewBox="0 0 136 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM27.9147 14.5818C27.9147 12.4947 26.6371 10.7068 24.8216 9.95643C25.1692 9.27561 25.3646 8.50429 25.3646 7.68836C25.3646 4.92574 23.1241 2.68522 20.3615 2.68522C19.724 2.68522 19.1153 2.80459 18.5539 3.02235C17.7865 1.24357 16.0169 0 13.9574 0C11.8913 0 10.1178 1.25275 9.35432 3.0394C8.78238 2.81115 8.15666 2.68522 7.5034 2.68522C6.34378 2.68522 5.27468 3.08007 4.42727 3.74252C4.09932 4.04816 3.7858 4.36955 3.48672 4.70537C2.86756 5.53835 2.50026 6.57072 2.50026 7.68836C2.50026 8.51216 2.69965 9.28873 3.05121 9.97348C1.258 10.7343 0 12.5118 0 14.5818C0 16.5009 1.08091 18.1682 2.66685 19.0064C2.55798 19.4157 2.50157 19.8446 2.50157 20.288C2.50157 21.4844 2.92134 22.5823 3.62052 23.4429C3.62052 23.4429 3.62183 23.4455 3.62446 23.4468C3.82516 23.6672 4.03373 23.8797 4.24755 24.087C4.24886 24.0883 4.25018 24.0896 4.2528 24.0909C5.12776 24.8399 6.26245 25.2912 7.50471 25.2912C8.15535 25.2912 8.77714 25.1679 9.34776 24.9409C10.106 26.7381 11.8861 28 13.96 28C16.0274 28 17.8022 26.7459 18.5643 24.9567C19.1232 25.1731 19.7292 25.2912 20.3628 25.2912C23.1267 25.2912 25.3659 23.0506 25.3659 20.288C25.3659 19.8525 25.3108 19.4314 25.2059 19.03C26.8141 18.1984 27.9147 16.5193 27.9147 14.5818ZM16.9758 19.8722C16.4799 20.1647 15.8988 20.3602 15.2364 20.4612V21.3086C15.2364 21.9409 14.7248 22.4525 14.0925 22.4525C13.4602 22.4525 12.9486 21.9396 12.9486 21.3086V20.4468C11.7182 20.2395 10.6976 19.6846 9.88297 18.7847C8.86765 17.6579 8.35999 16.2071 8.35999 14.4335C8.35999 12.5931 8.87814 11.0924 9.91708 9.93151C10.7278 9.02638 11.7391 8.46756 12.9499 8.25636V7.62933C12.9499 6.99705 13.4628 6.48545 14.0938 6.48545C14.4099 6.48545 14.6959 6.61401 14.9032 6.81996C15.1104 7.02722 15.2377 7.31319 15.2377 7.62933V8.23931C15.8122 8.32851 16.3264 8.49117 16.7764 8.72729C17.4008 9.06179 17.7143 9.49731 17.7143 10.0325C17.7143 10.3565 17.6133 10.6294 17.4126 10.8524C17.2119 11.0754 16.9666 11.1869 16.6767 11.1869C16.5206 11.1869 16.291 11.12 15.9906 10.9862C15.7283 10.855 15.4777 10.7487 15.2377 10.6674V17.999C15.5105 17.9294 15.7729 17.8337 16.0234 17.713C16.3579 17.5569 16.615 17.4782 16.7921 17.4782C17.4952 17.4782 17.8468 17.8455 17.8468 18.5827C17.8468 19.0969 17.5556 19.5272 16.9758 19.8722ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M31.8947 14.0007C31.9209 8.90179 36.1947 4.75655 41.3448 4.73163C43.6102 4.73163 45.671 5.47803 47.2924 6.73997C47.9103 7.2555 48.0139 8.15669 47.5495 8.79947C47.034 9.44355 46.0816 9.54587 45.49 9.08281C44.3566 8.15538 42.9412 7.66609 41.3448 7.66609C39.5686 7.66609 37.9197 8.38757 36.7102 9.51964C35.5519 10.7042 34.8305 12.2495 34.8305 13.9994C34.8305 15.7506 35.5519 17.347 36.7102 18.4791C37.921 19.6125 39.5686 20.3327 41.3448 20.3327C42.9412 20.3327 44.3317 19.8434 45.49 18.9159C46.0816 18.4778 47.0353 18.5814 47.5495 19.1993C48.0126 19.8434 47.9103 20.7695 47.2924 21.2588C45.6697 22.5207 43.6102 23.2671 41.3448 23.2671C36.1947 23.2697 31.9196 19.1245 31.8947 14.0007Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M48.2395 16.8328C48.2657 13.3303 50.9942 10.3959 54.5216 10.3959C57.8693 10.3959 60.5217 12.8935 60.7276 16.3697C60.7276 16.396 60.7276 16.4471 60.7276 16.4983C60.7276 16.5494 60.7276 16.678 60.7014 16.7305C60.624 17.3483 60.0836 17.7602 59.3621 17.7602H51.1739C51.3025 18.3518 51.5858 19.0222 52.0489 19.4603C52.5893 20.0781 53.6191 20.5412 54.5203 20.6186C55.4477 20.696 56.5549 20.4638 57.1976 19.9745C57.7381 19.4078 58.7941 19.4852 59.1286 19.8971C59.4631 20.2578 59.7202 21.0305 59.1286 21.5709C57.8666 22.7292 56.3476 23.271 54.519 23.271C50.9942 23.2448 48.2644 20.3352 48.2395 16.8328ZM51.0454 15.5708H58.3323C58.0752 14.5411 56.7621 13.0221 54.5216 12.841C52.3336 12.9447 51.2513 14.5149 51.0454 15.5708Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M74.0685 21.8792C74.0685 22.6256 73.4507 23.2697 72.678 23.2697C71.9828 23.2697 71.4423 22.7804 71.3138 22.1626C70.3352 22.8316 69.0995 23.2697 67.8113 23.2697C64.3351 23.2697 61.5541 20.334 61.5541 16.8577C61.5541 13.3303 64.3351 10.3946 67.8113 10.3946C69.0733 10.3946 70.309 10.8065 71.2613 11.4755V6.63501C71.2613 5.8886 71.8792 5.24452 72.678 5.24452C73.4507 5.24452 74.0685 5.8886 74.0685 6.63501V16.8315C74.0685 16.8315 74.0685 16.8315 74.0685 16.8577V21.8792ZM67.8113 13.2018C66.8839 13.2018 66.0352 13.5875 65.3911 14.2578C64.747 14.9019 64.3613 15.828 64.3613 16.859C64.3613 17.8376 64.747 18.7651 65.3911 19.4078C66.0352 20.0768 66.8839 20.4638 67.8113 20.4638C68.7637 20.4638 69.5875 20.0782 70.2316 19.4078C70.8756 18.7637 71.2613 17.8376 71.2613 16.859C71.2613 15.8293 70.8756 14.9019 70.2316 14.2578C69.5875 13.5888 68.7637 13.2018 67.8113 13.2018Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M78.278 7.17676C78.278 7.9494 77.6864 8.59349 76.8875 8.59349C76.1149 8.59349 75.497 7.9494 75.497 7.17676V6.6363C75.497 5.86367 76.1149 5.24582 76.8875 5.24582C77.6864 5.24582 78.278 5.86367 78.278 6.6363V7.17676ZM78.278 11.8375V21.8792C78.278 22.6519 77.6864 23.2697 76.8875 23.2697C76.1149 23.2697 75.497 22.6519 75.497 21.8792V11.8375C75.497 11.0137 76.1149 10.4208 76.8875 10.4208C77.6864 10.4208 78.278 11.0137 78.278 11.8375Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M92.1396 21.1328C92.3968 21.8792 91.9848 22.6781 91.2384 22.9352C91.1361 22.9614 90.9289 23.0126 90.6718 23.0126C90.6718 23.0126 90.6718 23.0126 90.6455 23.0126C90.3884 23.0126 90.0014 22.9614 89.6407 22.7293C89.3062 22.5233 89.0229 22.1888 88.8169 21.8281C88.4562 21.0817 88.2764 20.1542 88.2764 18.7388C88.2502 18.2495 88.1479 17.915 87.9669 17.6317C87.8121 17.3483 87.5038 17.0912 87.1942 16.8853C86.6538 16.5245 85.9834 16.3186 85.7526 16.2674H82.7145V21.8556C82.7145 22.6282 82.0704 23.2723 81.2728 23.2723C80.474 23.2723 79.8561 22.6282 79.8561 21.8556V6.66254C79.8561 5.86367 80.474 5.24582 81.2728 5.24582C81.2728 5.24582 81.2728 5.24582 81.2991 5.24582H85.8824C88.9468 5.24582 91.3932 7.71721 91.3932 10.7815C91.3932 12.4816 90.6206 13.9744 89.3849 15.0042C89.7194 15.2613 90.029 15.5709 90.2861 15.9565C90.8016 16.7029 91.1361 17.6566 91.1361 18.7375C91.1099 19.5101 91.1873 19.9994 91.2384 20.2565C91.6503 20.3864 91.9849 20.6947 92.1396 21.1328ZM88.5349 10.7815C88.5349 9.28742 87.3503 8.10419 85.8824 8.10419H82.7158V13.409H85.8824C87.3503 13.4077 88.5349 12.2232 88.5349 10.7815Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M104.78 21.9055C104.78 22.6519 104.162 23.2697 103.416 23.2697C102.747 23.2697 102.231 22.7804 102.076 22.1626C101.098 22.8578 99.9395 23.2697 98.6513 23.2697C96.9001 23.2697 95.381 22.5482 94.2739 21.3899C93.1668 20.2054 92.5227 18.6089 92.5227 16.8577C92.5227 15.0816 93.1668 13.4851 94.2739 12.3255C95.381 11.141 96.9001 10.3946 98.6513 10.3946C99.9382 10.3946 101.098 10.8327 102.076 11.5279C102.231 10.8839 102.745 10.3946 103.416 10.3946C104.162 10.3946 104.78 11.0124 104.78 11.7851V21.9055ZM102.05 16.859C102.05 15.7781 101.664 14.8507 101.047 14.2066C100.429 13.5114 99.5525 13.1506 98.6513 13.1506C97.7239 13.1506 96.8489 13.5114 96.256 14.2066C95.6382 14.8507 95.2774 15.7768 95.2774 16.859C95.2774 17.915 95.6382 18.8411 96.256 19.5115C96.8476 20.1555 97.7239 20.5163 98.6513 20.5163C99.5525 20.5163 100.427 20.1555 101.047 19.5115C101.664 18.8411 102.05 17.9137 102.05 16.859Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M112.586 11.8113C112.586 12.5839 111.917 13.228 111.145 13.228H110.501V20.4127C111.3 20.4127 111.917 21.0567 111.917 21.8543C111.917 22.6519 111.3 23.271 110.501 23.271C108.93 23.271 107.642 21.9842 107.642 20.4127V13.228H106.896C106.097 13.228 105.479 12.5839 105.479 11.8113C105.479 11.0124 106.097 10.3946 106.896 10.3946H107.642V6.66124C107.642 5.86237 108.286 5.24452 109.084 5.24452C109.882 5.24452 110.501 5.86237 110.501 6.66124V10.3946H111.145C111.916 10.3959 112.586 11.0137 112.586 11.8113Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M112.698 16.8328C112.724 13.3303 115.453 10.3959 118.98 10.3959C122.328 10.3959 124.98 12.8935 125.186 16.3697C125.186 16.396 125.186 16.4471 125.186 16.4983C125.186 16.5494 125.186 16.678 125.16 16.7305C125.082 17.3483 124.542 17.7602 123.82 17.7602H115.632C115.761 18.3518 116.044 19.0222 116.507 19.4603C117.048 20.0781 118.077 20.5412 118.979 20.6186C119.906 20.696 121.013 20.4638 121.656 19.9745C122.196 19.4078 123.252 19.4852 123.587 19.8971C123.921 20.2578 124.179 21.0305 123.587 21.5709C122.325 22.7292 120.806 23.271 118.977 23.271C115.453 23.2448 112.724 20.3352 112.698 16.8328ZM115.505 15.5708H122.792C122.535 14.5411 121.222 13.0221 118.981 12.841C116.792 12.9447 115.711 14.5149 115.505 15.5708Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M125.896 19.5875C126.359 18.9697 127.26 18.8923 127.827 19.3816C128.496 19.9483 129.655 20.5399 130.659 20.515C131.354 20.515 131.998 20.2828 132.41 20.0257C132.771 19.7161 132.873 19.459 132.873 19.253C132.873 19.1245 132.847 19.0733 132.796 18.9959C132.769 18.9185 132.667 18.8162 132.461 18.6863C132.1 18.4292 131.328 18.1459 130.402 17.9649H130.375C129.577 17.8101 128.805 17.6041 128.135 17.2958C127.44 16.9613 126.822 16.497 126.359 15.803C126.075 15.34 125.921 14.7733 125.921 14.1804C125.921 12.9958 126.59 11.9923 127.44 11.3482C128.341 10.7304 129.422 10.3959 130.606 10.3959C132.382 10.3959 133.644 11.2459 134.468 11.8126C135.086 12.2245 135.267 13.0745 134.88 13.7186C134.468 14.3365 133.618 14.5175 132.974 14.0794C132.15 13.5389 131.429 13.127 130.605 13.127C129.961 13.127 129.394 13.3329 129.06 13.5901C128.725 13.8222 128.648 14.0531 128.648 14.1817C128.648 14.284 128.648 14.3102 128.699 14.3876C128.725 14.4388 128.801 14.5424 128.982 14.6447C129.317 14.8769 129.986 15.1078 130.862 15.2626L130.888 15.2888H130.915C131.765 15.4436 132.562 15.6745 133.31 16.0352C134.005 16.3448 134.7 16.8341 135.139 17.5543C135.448 18.0698 135.628 18.6614 135.628 19.2543C135.628 20.5163 134.933 21.5723 134.005 22.2413C133.078 22.8853 131.919 23.271 130.657 23.271C128.649 23.2448 127.104 22.3187 126.074 21.4949C125.509 21.0305 125.431 20.1542 125.896 19.5875Z"
                    fill="#1896FE"
                  />
                </svg>

                <svg
                  className="md:hidden"
                  width="110"
                  height="28"
                  viewBox="0 0 136 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM27.9147 14.5818C27.9147 12.4947 26.6371 10.7068 24.8216 9.95643C25.1692 9.27561 25.3646 8.50429 25.3646 7.68836C25.3646 4.92574 23.1241 2.68522 20.3615 2.68522C19.724 2.68522 19.1153 2.80459 18.5539 3.02235C17.7865 1.24357 16.0169 0 13.9574 0C11.8913 0 10.1178 1.25275 9.35432 3.0394C8.78238 2.81115 8.15666 2.68522 7.5034 2.68522C6.34378 2.68522 5.27468 3.08007 4.42727 3.74252C4.09932 4.04816 3.7858 4.36955 3.48672 4.70537C2.86756 5.53835 2.50026 6.57072 2.50026 7.68836C2.50026 8.51216 2.69965 9.28873 3.05121 9.97348C1.258 10.7343 0 12.5118 0 14.5818C0 16.5009 1.08091 18.1682 2.66685 19.0064C2.55798 19.4157 2.50157 19.8446 2.50157 20.288C2.50157 21.4844 2.92134 22.5823 3.62052 23.4429C3.62052 23.4429 3.62183 23.4455 3.62446 23.4468C3.82516 23.6672 4.03373 23.8797 4.24755 24.087C4.24886 24.0883 4.25018 24.0896 4.2528 24.0909C5.12776 24.8399 6.26245 25.2912 7.50471 25.2912C8.15535 25.2912 8.77714 25.1679 9.34776 24.9409C10.106 26.7381 11.8861 28 13.96 28C16.0274 28 17.8022 26.7459 18.5643 24.9567C19.1232 25.1731 19.7292 25.2912 20.3628 25.2912C23.1267 25.2912 25.3659 23.0506 25.3659 20.288C25.3659 19.8525 25.3108 19.4314 25.2059 19.03C26.8141 18.1984 27.9147 16.5193 27.9147 14.5818ZM16.9758 19.8722C16.4799 20.1647 15.8988 20.3602 15.2364 20.4612V21.3086C15.2364 21.9409 14.7248 22.4525 14.0925 22.4525C13.4602 22.4525 12.9486 21.9396 12.9486 21.3086V20.4468C11.7182 20.2395 10.6976 19.6846 9.88297 18.7847C8.86765 17.6579 8.35999 16.2071 8.35999 14.4335C8.35999 12.5931 8.87814 11.0924 9.91708 9.93151C10.7278 9.02638 11.7391 8.46756 12.9499 8.25636V7.62933C12.9499 6.99705 13.4628 6.48545 14.0938 6.48545C14.4099 6.48545 14.6959 6.61401 14.9032 6.81996C15.1104 7.02722 15.2377 7.31319 15.2377 7.62933V8.23931C15.8122 8.32851 16.3264 8.49117 16.7764 8.72729C17.4008 9.06179 17.7143 9.49731 17.7143 10.0325C17.7143 10.3565 17.6133 10.6294 17.4126 10.8524C17.2119 11.0754 16.9666 11.1869 16.6767 11.1869C16.5206 11.1869 16.291 11.12 15.9906 10.9862C15.7283 10.855 15.4777 10.7487 15.2377 10.6674V17.999C15.5105 17.9294 15.7729 17.8337 16.0234 17.713C16.3579 17.5569 16.615 17.4782 16.7921 17.4782C17.4952 17.4782 17.8468 17.8455 17.8468 18.5827C17.8468 19.0969 17.5556 19.5272 16.9758 19.8722ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712ZM11.4702 11.5712C10.9009 12.2966 10.6176 13.2333 10.6176 14.3824C10.6176 15.5092 10.8904 16.413 11.4374 17.0938C11.7864 17.5346 12.3452 17.8376 12.9473 18.0016V10.6451C12.3583 10.8209 11.8179 11.1305 11.4702 11.5712Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M31.8947 14.0007C31.9209 8.90179 36.1947 4.75655 41.3448 4.73163C43.6102 4.73163 45.671 5.47803 47.2924 6.73997C47.9103 7.2555 48.0139 8.15669 47.5495 8.79947C47.034 9.44355 46.0816 9.54587 45.49 9.08281C44.3566 8.15538 42.9412 7.66609 41.3448 7.66609C39.5686 7.66609 37.9197 8.38757 36.7102 9.51964C35.5519 10.7042 34.8305 12.2495 34.8305 13.9994C34.8305 15.7506 35.5519 17.347 36.7102 18.4791C37.921 19.6125 39.5686 20.3327 41.3448 20.3327C42.9412 20.3327 44.3317 19.8434 45.49 18.9159C46.0816 18.4778 47.0353 18.5814 47.5495 19.1993C48.0126 19.8434 47.9103 20.7695 47.2924 21.2588C45.6697 22.5207 43.6102 23.2671 41.3448 23.2671C36.1947 23.2697 31.9196 19.1245 31.8947 14.0007Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M48.2395 16.8328C48.2657 13.3303 50.9942 10.3959 54.5216 10.3959C57.8693 10.3959 60.5217 12.8935 60.7276 16.3697C60.7276 16.396 60.7276 16.4471 60.7276 16.4983C60.7276 16.5494 60.7276 16.678 60.7014 16.7305C60.624 17.3483 60.0836 17.7602 59.3621 17.7602H51.1739C51.3025 18.3518 51.5858 19.0222 52.0489 19.4603C52.5893 20.0781 53.6191 20.5412 54.5203 20.6186C55.4477 20.696 56.5549 20.4638 57.1976 19.9745C57.7381 19.4078 58.7941 19.4852 59.1286 19.8971C59.4631 20.2578 59.7202 21.0305 59.1286 21.5709C57.8666 22.7292 56.3476 23.271 54.519 23.271C50.9942 23.2448 48.2644 20.3352 48.2395 16.8328ZM51.0454 15.5708H58.3323C58.0752 14.5411 56.7621 13.0221 54.5216 12.841C52.3336 12.9447 51.2513 14.5149 51.0454 15.5708Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M74.0685 21.8792C74.0685 22.6256 73.4507 23.2697 72.678 23.2697C71.9828 23.2697 71.4423 22.7804 71.3138 22.1626C70.3352 22.8316 69.0995 23.2697 67.8113 23.2697C64.3351 23.2697 61.5541 20.334 61.5541 16.8577C61.5541 13.3303 64.3351 10.3946 67.8113 10.3946C69.0733 10.3946 70.309 10.8065 71.2613 11.4755V6.63501C71.2613 5.8886 71.8792 5.24452 72.678 5.24452C73.4507 5.24452 74.0685 5.8886 74.0685 6.63501V16.8315C74.0685 16.8315 74.0685 16.8315 74.0685 16.8577V21.8792ZM67.8113 13.2018C66.8839 13.2018 66.0352 13.5875 65.3911 14.2578C64.747 14.9019 64.3613 15.828 64.3613 16.859C64.3613 17.8376 64.747 18.7651 65.3911 19.4078C66.0352 20.0768 66.8839 20.4638 67.8113 20.4638C68.7637 20.4638 69.5875 20.0782 70.2316 19.4078C70.8756 18.7637 71.2613 17.8376 71.2613 16.859C71.2613 15.8293 70.8756 14.9019 70.2316 14.2578C69.5875 13.5888 68.7637 13.2018 67.8113 13.2018Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M78.278 7.17676C78.278 7.9494 77.6864 8.59349 76.8875 8.59349C76.1149 8.59349 75.497 7.9494 75.497 7.17676V6.6363C75.497 5.86367 76.1149 5.24582 76.8875 5.24582C77.6864 5.24582 78.278 5.86367 78.278 6.6363V7.17676ZM78.278 11.8375V21.8792C78.278 22.6519 77.6864 23.2697 76.8875 23.2697C76.1149 23.2697 75.497 22.6519 75.497 21.8792V11.8375C75.497 11.0137 76.1149 10.4208 76.8875 10.4208C77.6864 10.4208 78.278 11.0137 78.278 11.8375Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M92.1396 21.1328C92.3968 21.8792 91.9848 22.6781 91.2384 22.9352C91.1361 22.9614 90.9289 23.0126 90.6718 23.0126C90.6718 23.0126 90.6718 23.0126 90.6455 23.0126C90.3884 23.0126 90.0014 22.9614 89.6407 22.7293C89.3062 22.5233 89.0229 22.1888 88.8169 21.8281C88.4562 21.0817 88.2764 20.1542 88.2764 18.7388C88.2502 18.2495 88.1479 17.915 87.9669 17.6317C87.8121 17.3483 87.5038 17.0912 87.1942 16.8853C86.6538 16.5245 85.9834 16.3186 85.7526 16.2674H82.7145V21.8556C82.7145 22.6282 82.0704 23.2723 81.2728 23.2723C80.474 23.2723 79.8561 22.6282 79.8561 21.8556V6.66254C79.8561 5.86367 80.474 5.24582 81.2728 5.24582C81.2728 5.24582 81.2728 5.24582 81.2991 5.24582H85.8824C88.9468 5.24582 91.3932 7.71721 91.3932 10.7815C91.3932 12.4816 90.6206 13.9744 89.3849 15.0042C89.7194 15.2613 90.029 15.5709 90.2861 15.9565C90.8016 16.7029 91.1361 17.6566 91.1361 18.7375C91.1099 19.5101 91.1873 19.9994 91.2384 20.2565C91.6503 20.3864 91.9849 20.6947 92.1396 21.1328ZM88.5349 10.7815C88.5349 9.28742 87.3503 8.10419 85.8824 8.10419H82.7158V13.409H85.8824C87.3503 13.4077 88.5349 12.2232 88.5349 10.7815Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M104.78 21.9055C104.78 22.6519 104.162 23.2697 103.416 23.2697C102.747 23.2697 102.231 22.7804 102.076 22.1626C101.098 22.8578 99.9395 23.2697 98.6513 23.2697C96.9001 23.2697 95.381 22.5482 94.2739 21.3899C93.1668 20.2054 92.5227 18.6089 92.5227 16.8577C92.5227 15.0816 93.1668 13.4851 94.2739 12.3255C95.381 11.141 96.9001 10.3946 98.6513 10.3946C99.9382 10.3946 101.098 10.8327 102.076 11.5279C102.231 10.8839 102.745 10.3946 103.416 10.3946C104.162 10.3946 104.78 11.0124 104.78 11.7851V21.9055ZM102.05 16.859C102.05 15.7781 101.664 14.8507 101.047 14.2066C100.429 13.5114 99.5525 13.1506 98.6513 13.1506C97.7239 13.1506 96.8489 13.5114 96.256 14.2066C95.6382 14.8507 95.2774 15.7768 95.2774 16.859C95.2774 17.915 95.6382 18.8411 96.256 19.5115C96.8476 20.1555 97.7239 20.5163 98.6513 20.5163C99.5525 20.5163 100.427 20.1555 101.047 19.5115C101.664 18.8411 102.05 17.9137 102.05 16.859Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M112.586 11.8113C112.586 12.5839 111.917 13.228 111.145 13.228H110.501V20.4127C111.3 20.4127 111.917 21.0567 111.917 21.8543C111.917 22.6519 111.3 23.271 110.501 23.271C108.93 23.271 107.642 21.9842 107.642 20.4127V13.228H106.896C106.097 13.228 105.479 12.5839 105.479 11.8113C105.479 11.0124 106.097 10.3946 106.896 10.3946H107.642V6.66124C107.642 5.86237 108.286 5.24452 109.084 5.24452C109.882 5.24452 110.501 5.86237 110.501 6.66124V10.3946H111.145C111.916 10.3959 112.586 11.0137 112.586 11.8113Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M112.698 16.8328C112.724 13.3303 115.453 10.3959 118.98 10.3959C122.328 10.3959 124.98 12.8935 125.186 16.3697C125.186 16.396 125.186 16.4471 125.186 16.4983C125.186 16.5494 125.186 16.678 125.16 16.7305C125.082 17.3483 124.542 17.7602 123.82 17.7602H115.632C115.761 18.3518 116.044 19.0222 116.507 19.4603C117.048 20.0781 118.077 20.5412 118.979 20.6186C119.906 20.696 121.013 20.4638 121.656 19.9745C122.196 19.4078 123.252 19.4852 123.587 19.8971C123.921 20.2578 124.179 21.0305 123.587 21.5709C122.325 22.7292 120.806 23.271 118.977 23.271C115.453 23.2448 112.724 20.3352 112.698 16.8328ZM115.505 15.5708H122.792C122.535 14.5411 121.222 13.0221 118.981 12.841C116.792 12.9447 115.711 14.5149 115.505 15.5708Z"
                    fill="#1896FE"
                  />
                  <path
                    d="M125.896 19.5875C126.359 18.9697 127.26 18.8923 127.827 19.3816C128.496 19.9483 129.655 20.5399 130.659 20.515C131.354 20.515 131.998 20.2828 132.41 20.0257C132.771 19.7161 132.873 19.459 132.873 19.253C132.873 19.1245 132.847 19.0733 132.796 18.9959C132.769 18.9185 132.667 18.8162 132.461 18.6863C132.1 18.4292 131.328 18.1459 130.402 17.9649H130.375C129.577 17.8101 128.805 17.6041 128.135 17.2958C127.44 16.9613 126.822 16.497 126.359 15.803C126.075 15.34 125.921 14.7733 125.921 14.1804C125.921 12.9958 126.59 11.9923 127.44 11.3482C128.341 10.7304 129.422 10.3959 130.606 10.3959C132.382 10.3959 133.644 11.2459 134.468 11.8126C135.086 12.2245 135.267 13.0745 134.88 13.7186C134.468 14.3365 133.618 14.5175 132.974 14.0794C132.15 13.5389 131.429 13.127 130.605 13.127C129.961 13.127 129.394 13.3329 129.06 13.5901C128.725 13.8222 128.648 14.0531 128.648 14.1817C128.648 14.284 128.648 14.3102 128.699 14.3876C128.725 14.4388 128.801 14.5424 128.982 14.6447C129.317 14.8769 129.986 15.1078 130.862 15.2626L130.888 15.2888H130.915C131.765 15.4436 132.562 15.6745 133.31 16.0352C134.005 16.3448 134.7 16.8341 135.139 17.5543C135.448 18.0698 135.628 18.6614 135.628 19.2543C135.628 20.5163 134.933 21.5723 134.005 22.2413C133.078 22.8853 131.919 23.271 130.657 23.271C128.649 23.2448 127.104 22.3187 126.074 21.4949C125.509 21.0305 125.431 20.1542 125.896 19.5875Z"
                    fill="#1896FE"
                  />
                </svg>
              </Link>
            </ProgressBarLink>
            <ul className="hidden mt-0.5 items-center lg:flex gap-spacing-24">
              {navigation.map((item, idx) => (
                <li
                  key={idx}
                  className={`block md:border-none border-b border-[#f2f2f2] hover:text-primary text-[0.95rem] ${
                    currentPath === item.path ? "text-primary" : ""
                  }`}
                >
                  <ProgressBarLink href={item.path}>
                    {item.title}
                  </ProgressBarLink>
                </li>
              ))}
            </ul>
          </div>
          <div className="flex items-center gap-2 lg:order-2">
            <CommandMenu />

            <div className="flex gap-spacing-8 items-center">
              {!user?.email && !storedUser?.email ? (
                <ProgressBarLink href={"/login"}>
                  <Button size={"sm"}>Login</Button>
                </ProgressBarLink>
              ) : (
                <DropdownMenu>
                  <DropdownMenuTrigger className="border-0">
                    <Avatar
                      name={
                        (storedUser?.firstName || "") +
                        " " +
                        (storedUser?.lastName || "")
                      }
                      size="m"
                    />
                  </DropdownMenuTrigger>
                  <DropdownMenuContent align="end">
                    <AvatarDropdown user={storedUser} />
                  </DropdownMenuContent>
                </DropdownMenu>
              )}
            </div>
          </div>
          <div
            className={`items-center ${
              menu ? "block" : "hidden"
            } w-full lg:hidden lg:w-auto lg:order-1`}
          >
            <ul className="flex flex-col my-4 font-medium lg:flex-row lg:gap-spacing-12 md:my-0 md:border-0 mx-auto">
              {navigation.map((item, idx) => (
                <li
                  key={idx}
                  className={`
            block py-4 
            md:border-none 
            hover:text-primary
            ${currentPath === item.path ? "text-primary" : ""}
          `}
                >
                  <ProgressBarLink href={item.path}>
                    {item.title}
                  </ProgressBarLink>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </nav>

      <div className="overflow-x-scroll md:overflow-hidden border-b border-t border-[#f2f2f2] w-full bg-white">
        <div className="lg:flex lg:items-center lg:justify-between py-spacing-12 px-spacing-16 lg:px-spacing-96 lg:py-spacing-8 max-w-[1450px] mx-auto">
          <NavRates />

          <div className="hidden lg:flex gap-spacing-8">
            <ProgressBarLink href={"/listing"}>
              <Button size={"sm"} variant={"secondary"}>
                Get Listed
              </Button>
            </ProgressBarLink>
            <ProgressBarLink href={"/developer"}>
              <Button size={"sm"} variant={"secondary"}>
                API
              </Button>
            </ProgressBarLink>
            <ProgressBarLink href={"/watchlist"}>
              <Button size={"sm"} variant={"secondary"}>
                Watchlist
              </Button>
            </ProgressBarLink>
          </div>
        </div>
      </div>
    </>
  );
};

export default Header;
